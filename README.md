# ESP32-C3 Nightscout Display

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä ESP32-C3 —Ç–∞ –Ω–µ–≤–µ–ª–∏–∫–∏–π OLED-–¥–∏—Å–ø–ª–µ–π –Ω–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä –¥–ª—è –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É Nightscout, —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –ø–æ—Ç–æ—á–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –≥–ª—é–∫–æ–∑–∏ –≤ –∫—Ä–æ–≤—ñ (SGV) —Ç–∞ —Ç—Ä–µ–Ω–¥ –π–æ–≥–æ –∑–º—ñ–Ω–∏.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **–ü–æ—Å—Ç—ñ–π–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è:** –ü–æ–∫–∞–∑—É—î –∞–∫—Ç—É–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ —Ä—ñ–≤–Ω—è —Ü—É–∫—Ä—É —Ç–∞ —Ç—Ä–µ–Ω–¥.
- **Wi-Fi –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:** –ü—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ –≤–∞—à–æ—ó –ª–æ–∫–∞–ª—å–Ω–æ—ó –º–µ—Ä–µ–∂—ñ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.
- **–õ–µ–≥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:** –£—Å—ñ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ (Wi-Fi, –∞–¥—Ä–µ—Å–∞ Nightscout) –≤–∏–Ω–µ—Å–µ–Ω—ñ –≤ –æ–∫—Ä–µ–º–∏–π –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª `include/secrets.h`.
- **–ï–Ω–µ—Ä–≥–æ–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –µ–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π OLED-–¥–∏—Å–ø–ª–µ–π —Ç–∞ –≤–±—É–¥–æ–≤–∞–Ω—ñ —Ä–µ–∂–∏–º–∏ –µ–Ω–µ—Ä–≥–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è Wi-Fi.
- **–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ó—Ä—É—á–Ω–æ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∏–π –µ–∫—Ä–∞–Ω –∑ –≤–µ–ª–∏–∫–∏–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ SGV —Ç–∞ —Å—Ç—Ä—ñ–ª–∫–æ—é —Ç—Ä–µ–Ω–¥—É –≤ —Ü–µ–Ω—Ç—Ä—ñ. –í–µ—Ä—Ö–Ω—ñ–π —Ä—è–¥–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î SSID, RSSI —Ç–∞ —á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

## –ù–µ–æ–±—Ö—ñ–¥–Ω–∞ –∞–ø–∞—Ä–∞—Ç—É—Ä–∞

1.  **–ú—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä:** –ë—É–¥—å-—è–∫–∞ –ø–ª–∞—Ç–∞ –Ω–∞ –±–∞–∑—ñ **ESP32-C3** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Lolin C3 Mini, Seeed Studio XIAO ESP32C3).
2.  **–î–∏—Å–ø–ª–µ–π:** **0.96"** –∞–±–æ **1.3" OLED-–¥–∏—Å–ø–ª–µ–π** –∑ —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—é **128x64**, –¥—Ä–∞–π–≤–µ—Ä–æ–º **SSD1306** —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º **I2C**.
3.  **–ó'—î–¥–Ω—É–≤–∞–ª—å–Ω—ñ –¥—Ä–æ—Ç–∏** (4 —à—Ç.).
4.  **–ö–∞–±–µ–ª—å USB-C** –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ —Ç–∞ –∂–∏–≤–ª–µ–Ω–Ω—è.

## –°—Ö–µ–º–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

–ü–æ—Ç—Ä—ñ–±–Ω–æ –∑'—î–¥–Ω–∞—Ç–∏ –≤—Å—å–æ–≥–æ 4 –¥—Ä–æ—Ç–∏ –º—ñ–∂ –ø–ª–∞—Ç–æ—é ESP32-C3 —Ç–∞ OLED-–¥–∏—Å–ø–ª–µ—î–º.

**–í–∞–∂–ª–∏–≤–æ:** –ü—ñ–Ω–∏ I2C (SDA, SCL) –º–æ–∂—É—Ç—å –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç–∞—Ö ESP32-C3. –£ —Ü—å–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ –≤–æ–Ω–∏ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ —É —Ñ–∞–π–ª—ñ `include/config.h`. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è `GPIO8` –¥–ª—è SDA —Ç–∞ `GPIO9` –¥–ª—è SCL. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–ø—ñ–Ω–æ–≤–∫—É –≤–∞—à–æ—ó –ø–ª–∞—Ç–∏ —Ç–∞ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ –∑–º—ñ–Ω—ñ—Ç—å —Ü—ñ –∑–Ω–∞—á–µ–Ω–Ω—è.

| –ü—ñ–Ω –Ω–∞ OLED-–¥–∏—Å–ø–ª–µ—ó | –ü—ñ–Ω –Ω–∞ ESP32-C3 | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
| :------------------ | :-------------- | :---------- |
| **GND** | **GND** | –ó–µ–º–ª—è |
| **VCC** | **3V3** | –ñ–∏–≤–ª–µ–Ω–Ω—è (3.3 –í–æ–ª—å—Ç–∞) |
| **SDA** | **GPIO8** | –õ—ñ–Ω—ñ—è –¥–∞–Ω–∏—Ö I2C |
| **SCL** | **GPIO9** | –õ—ñ–Ω—ñ—è —Ç–∞–∫—Ç—É–≤–∞–Ω–Ω—è I2C|

### –¢–µ–∫—Å—Ç–æ–≤–∞ —Å—Ö–µ–º–∞

```
+-----------------+      +-----------------+
|   ESP32-C3      |      |   OLED Display  |
|                 |      |                 |
|             GND +------+ GND             |
|             3V3 +------+ VCC             |
|           GPIO8 +------+ SDA             |
|           GPIO9 +------+ SCL             |
|                 |      |                 |
+-----------------+      +-----------------+
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ—à–∏–≤–∫–∞

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ **PlatformIO IDE**, –ø–æ—Ç—É–∂–Ω–∏–º —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –∫–æ–¥—É **Visual Studio Code**. –Ø–∫—â–æ –≤–∏ –∑–≤–∏–∫–ª–∏ –¥–æ VS Code, —Ü–µ–π –ø—Ä–æ—Ü–µ—Å –±—É–¥–µ –¥–ª—è –≤–∞—Å –¥—É–∂–µ –∑—Ä—É—á–Ω–∏–º.

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ä–æ–∑—Ä–æ–±–∫–∏

1.  **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Visual Studio Code:** –Ø–∫—â–æ —É –≤–∞—Å –π–æ–≥–æ —â–µ –Ω–µ–º–∞—î, –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑ [–æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–∞–π—Ç—É](https://code.visualstudio.com/).
2.  **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å PlatformIO IDE:**
    *   –í—ñ–¥–∫—Ä–∏–π—Ç–µ VS Code.
    *   –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∫–ª–∞–¥–∫–∏ **"Extensions"** –Ω–∞ –±—ñ—á–Ω—ñ–π –ø–∞–Ω–µ–ª—ñ (—ñ–∫–æ–Ω–∫–∞ –∑ –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∞–º–∏, –∞–±–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å `Ctrl+Shift+X`).
    *   –£ —Ä—è–¥–∫—É –ø–æ—à—É–∫—É –≤–≤–µ–¥—ñ—Ç—å `PlatformIO IDE`.
    *   –ó–Ω–∞–π–¥—ñ—Ç—å –æ—Ñ—ñ—Ü—ñ–π–Ω–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Install"**.
    *   –ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è VS Code –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏—Å—å. –ü–æ–≥–æ–¥—å—Ç–µ—Å—å, —â–æ–± –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è.

### –ö—Ä–æ–∫ 2: –í—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

1.  **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
    *   –£ VS Code –≤–∏–±–µ—Ä—ñ—Ç—å `File` > `Open Folder...`.
    *   –ó–Ω–∞–π–¥—ñ—Ç—å —Ç–∞ –≤–∏–±–µ—Ä—ñ—Ç—å –ø–∞–ø–∫—É `ESP32C3_Nigtscout`, —è–∫—É —è –¥–ª—è –≤–∞—Å —Å—Ç–≤–æ—Ä–∏–≤.
    *   –ö–æ–ª–∏ –≤–∏ –≤—ñ–¥–∫—Ä–∏—î—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤–ø–µ—Ä—à–µ, PlatformIO –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.
2.  **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –≤–∞—à—ñ –¥–∞–Ω—ñ:**
    *   –°–ø–µ—Ä—à—É, —Å—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–ø—ñ—é —Ñ–∞–π–ª—É `include/secrets.h.example` —Ç–∞ –Ω–∞–∑–≤—ñ—Ç—å —ó—ó `include/secrets.h`.
    *   –í—ñ–¥–∫—Ä–∏–π—Ç–µ –Ω–æ–≤–æ—Å—Ç–≤–æ—Ä–µ–Ω–∏–π `include/secrets.h` —Ç–∞ –≤–∫–∞–∂—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞ –ø–∞—Ä–æ–ª—å –¥–æ –≤–∞—à–æ—ó –º–µ—Ä–µ–∂—ñ (–∞–±–æ –∫—ñ–ª—å–∫–æ—Ö –º–µ—Ä–µ–∂) —É –º–∞—Å–∏–≤–∞—Ö `WIFI_SSIDS` —Ç–∞ `WIFI_PASSWORDS`.
    *   –£ —Ç–æ–º—É –∂ —Ñ–∞–π–ª—ñ –≤–∫–∞–∂—ñ—Ç—å –ø–æ–≤–Ω—É –∞–¥—Ä–µ—Å—É –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É Nightscout —É –∑–º—ñ–Ω–Ω—ñ–π `NIGHTSCOUT_URL` —Ç–∞ –≤–∞—à —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É `NIGHTSCOUT_API_TOKEN`.
    *   –ü—Ä–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–∞ –∑–º—ñ–Ω—ñ—Ç—å –ø—ñ–Ω–∏ –¥–ª—è –¥–∏—Å–ø–ª–µ—è (`I2C_SDA_PIN`, `I2C_SCL_PIN`) —É —Ñ–∞–π–ª—ñ `include/config.h`, —â–æ–± –≤–æ–Ω–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–∏ –≤–∞—à—ñ–π –ø–ª–∞—Ç—ñ.

### –ö—Ä–æ–∫ 3: –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è —Ç–∞ –ø—Ä–æ—à–∏–≤–∫–∞

–í–Ω–∏–∑—É –≤—ñ–∫–Ω–∞ VS Code –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —Å–∏–Ω—é –ø–∞–Ω–µ–ª—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ PlatformIO. –û—Å—å –∫–ª—é—á–æ–≤—ñ –∫–Ω–æ–ø–∫–∏:

*   `‚úì` **(Build):** –ü—Ä–æ—Å—Ç–æ –∫–æ–º–ø—ñ–ª—é—î –∫–æ–¥, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫.
*   `‚Üí` **(Upload):** –ö–æ–º–ø—ñ–ª—é—î –∫–æ–¥ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –π–æ–≥–æ —É –ø–∞–º'—è—Ç—å –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞.
*   `üîå` **(Serial Monitor):** –í—ñ–¥–∫—Ä–∏–≤–∞—î –≤—ñ–∫–Ω–æ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ –ø—Ä–∏—Å—Ç—Ä–æ—é.

1.  **–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –ø–ª–∞—Ç—É:** –ó'—î–¥–Ω–∞–π—Ç–µ –≤–∞—à—É –ø–ª–∞—Ç—É ESP32-C3 –∑ –∫–æ–º–ø'—é—Ç–µ—Ä–æ–º –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é USB-–∫–∞–±–µ–ª—é.
2.  **–ü—Ä–æ—à–∏–π—Ç–µ –ø—Ä–∏—Å—Ç—Ä—ñ–π:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É **"Upload"** (`‚Üí`). PlatformIO –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å —É—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏** (`U8g2`, `ArduinoJson`), —Å–∫–æ–º–ø—ñ–ª—é—î –ø—Ä–æ–µ–∫—Ç —Ç–∞ –ø—Ä–æ—à–∏—î –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä.

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

–©–æ–± –ø–æ–±–∞—á–∏—Ç–∏, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è (—Å—Ç–∞—Ç—É—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Wi-Fi, –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏), –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É **"Serial Monitor"** (`üîå`) –Ω–∞ –ø–∞–Ω–µ–ª—ñ PlatformIO.

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏

-   [U8g2](https://github.com/olikraus/u8g2) by olikraus - –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ OLED-–¥–∏—Å–ø–ª–µ—î–º.
-   [ArduinoJson](https://github.com/bblanchon/ArduinoJson) by bblanchon - –¥–ª—è —Ä–æ–∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö, –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –≤—ñ–¥ Nightscout API.
